# Socket.dev Configuration
# https://docs.socket.dev/docs/socket-yml
#
# Recommended settings for protection against Shai-Hulud 2.0 and similar attacks
# For full config template, see: configs/socket.yml

version: 2

# Paths to ignore in project reports
projectIgnorePaths:
  - "node_modules"
  - ".git"
  - "dist"
  - "build"

# Only trigger PR alerts when these files change
triggerPaths:
  - "package.json"
  - "package-lock.json"
  - "pnpm-lock.yaml"
  - "bun.lockb"
  - "yarn.lock"

# Issue rules - customize alert behavior
issueRules:
  # Block critical attack vectors
  installScripts: true      # Shai-Hulud primary vector
  shellAccess: true
  networkAccess: true
  envVars: true
  filesystemAccess: true
  malware: true
  criticalCVE: true
  
  # Warn on suspicious behavior
  obfuscatedCode: true      # Shai-Hulud uses heavy obfuscation
  newAuthor: true
  highCVE: true

# GitHub App settings
githubApp:
  enabled: true
  pullRequestAlertsEnabled: true
  projectReportsEnabled: true
  dependencyOverviewEnabled: true
  # Ignore bot users
  ignoreUsers: ["dependabot[bot]", "renovate[bot]"]
